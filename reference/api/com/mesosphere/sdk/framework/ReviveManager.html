<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ReviveManager</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReviveManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/mesosphere/sdk/framework/ProcessExit.Code.html" title="class in com.mesosphere.sdk.framework"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/mesosphere/sdk/framework/SchedulerDriverFactory.html" title="class in com.mesosphere.sdk.framework"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/mesosphere/sdk/framework/ReviveManager.html" target="_top">Frames</a></li>
<li><a href="ReviveManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.mesosphere.sdk.framework</div>
<h2 title="Class ReviveManager" class="title">Class ReviveManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.mesosphere.sdk.framework.ReviveManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>class <span class="typeNameLabel">ReviveManager</span>
extends java.lang.Object</pre>
<div class="block">Handles scheduling of Mesos suppress and revive calls.

 NOTE: Does not protect against multithreaded access. All calls should only be made on a single thread, separate from
 the thread that receives offers. Otherwise there is a risk of a deadlock because SchedulerDriver.reviveOffers() can
 block on sending us new offers.

 <ul>
 <li>Suppress is performed whenever the underlying services are all idle and no further offers are needed. This allows
 Mesos to scale to more frameworks. When the framework is suppressed, it will not receive any offers for any reason.
 </li>
 <li>From our perspective, a Revive call will reset any prior Suppress call, and/or reset any offers which were
 previously declined, resulting in all offers being sent again. It should be invoked when any new work has appeared,
 but Revive calls should be rate limited to avoid taxing Mesos.</li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/mesosphere/sdk/framework/ReviveManager.html#ReviveManager-com.mesosphere.sdk.framework.TokenBucket-com.mesosphere.sdk.scheduler.SchedulerConfig-">ReviveManager</a></span>(<a href="../../../../com/mesosphere/sdk/framework/TokenBucket.html" title="class in com.mesosphere.sdk.framework">TokenBucket</a>&nbsp;reviveTokenBucket,
             <a href="../../../../com/mesosphere/sdk/scheduler/SchedulerConfig.html" title="class in com.mesosphere.sdk.scheduler">SchedulerConfig</a>&nbsp;schedulerConfig)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/mesosphere/sdk/framework/ReviveManager.html#notifyOffersReceived--">notifyOffersReceived</a></span>()</code>
<div class="block">Notifies the manager that we are no longer suppressed.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/mesosphere/sdk/framework/ReviveManager.html#requestRevive--">requestRevive</a></span>()</code>
<div class="block">Notifies the manager that a revive should be sent soon.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/mesosphere/sdk/framework/ReviveManager.html#requestReviveIfSuppressed--">requestReviveIfSuppressed</a></span>()</code>
<div class="block">Notifies the manager that a revive should be sent, but only if we're currently suppressed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/mesosphere/sdk/framework/ReviveManager.html#reviveIfRequested--">reviveIfRequested</a></span>()</code>
<div class="block">Pings the manager to perform a revive call to Mesos if one was previously requested.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/mesosphere/sdk/framework/ReviveManager.html#suppressIfActive--">suppressIfActive</a></span>()</code>
<div class="block">Issues a call to suppress offers, but only if the service does not already appear to be suppressed.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ReviveManager-com.mesosphere.sdk.framework.TokenBucket-com.mesosphere.sdk.scheduler.SchedulerConfig-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReviveManager</h4>
<pre>ReviveManager(<a href="../../../../com/mesosphere/sdk/framework/TokenBucket.html" title="class in com.mesosphere.sdk.framework">TokenBucket</a>&nbsp;reviveTokenBucket,
              <a href="../../../../com/mesosphere/sdk/scheduler/SchedulerConfig.html" title="class in com.mesosphere.sdk.scheduler">SchedulerConfig</a>&nbsp;schedulerConfig)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="notifyOffersReceived--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyOffersReceived</h4>
<pre>void&nbsp;notifyOffersReceived()</pre>
<div class="block">Notifies the manager that we are no longer suppressed. This should be called whenever offers are received from
 Mesos. This confirmation is done separately from the revive call to avoid the possibility of the following
 scenario:

 <ol>
 <li>Offers are suppressed</li>
 <li>A revive call is issued</li>
 <li>The revive call fails or is lost for any reason</li>
 <li>We continue to be suppressed, even though we think we issued a revive...</li>
 </ol>

 In practice, there isn't a confirmed case of this ever happening, but it doesn't hurt to be conservative here,
 because we cannot deterministically tell if we are actually suppressed or not. This logic could be revisited if
 Mesos someday offers a call which tells us whether or not we're suppressed.

 Note that this also ensures that by flipping the <code>isSuppressed</code> flag if we receive an offer when we
 SHOULD BE suppressed, we are ensuring that the future calls to <code>suppressIfActive</code> would reissue SUPPRESS.</div>
</li>
</ul>
<a name="suppressIfActive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>suppressIfActive</h4>
<pre>void&nbsp;suppressIfActive()</pre>
<div class="block">Issues a call to suppress offers, but only if the service does not already appear to be suppressed.
 This should be invoked when the service(s) are all in an IDLE state, so that the offer stream may be temporarily
 halted.</div>
</li>
</ul>
<a name="requestReviveIfSuppressed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestReviveIfSuppressed</h4>
<pre>void&nbsp;requestReviveIfSuppressed()</pre>
<div class="block">Notifies the manager that a revive should be sent, but only if we're currently suppressed.
 This should be invoked when the service(s) are in a WORKING state, so that any suppressed state gets cleared.</div>
</li>
</ul>
<a name="requestRevive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestRevive</h4>
<pre>void&nbsp;requestRevive()</pre>
<div class="block">Notifies the manager that a revive should be sent soon. This is needed in either of the following cases:
 <ul>
 <li>The service has new work to do and any previously declined offers should be sent again</li>
 <li>Offers are suppressed but the service is not idle (via <a href="../../../../com/mesosphere/sdk/framework/ReviveManager.html#requestReviveIfSuppressed--"><code>requestReviveIfSuppressed()</code></a></li>
 </ul></div>
</li>
</ul>
<a name="reviveIfRequested--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reviveIfRequested</h4>
<pre>void&nbsp;reviveIfRequested()</pre>
<div class="block">Pings the manager to perform a revive call to Mesos if one was previously requested. This must be invoked
 periodically to trigger revives. This structure allows us to enforce a rate limit on revive calls.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/mesosphere/sdk/framework/ProcessExit.Code.html" title="class in com.mesosphere.sdk.framework"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/mesosphere/sdk/framework/SchedulerDriverFactory.html" title="class in com.mesosphere.sdk.framework"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/mesosphere/sdk/framework/ReviveManager.html" target="_top">Frames</a></li>
<li><a href="ReviveManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
